# Decap CMS 配置文件
# 参考: https://decapcms.org/docs/configuration-options/

# 后端配置：使用 Netlify Git Gateway（部署到 Netlify 后生效）
backend:
  name: git-gateway
  branch: main
  commit_messages:
    create: "Content: 创建 {{collection}} {{slug}}"
    update: "Content: 更新 {{collection}} {{slug}}"
    delete: "Content: 删除 {{collection}} {{slug}}"
    uploadMedia: "Media: 上传 {{path}}"
    deleteMedia: "Media: 删除 {{path}}"

# 媒体文件存储配置
media_folder: static/images
public_folder: /images

# 内容集合定义
collections:
  # 中文博客文章
  - name: zh-blog
    label: 中文博客
    folder: content/zh/blog
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    editor:
      preview: false
    fields:
      - { label: 标题, name: title, widget: 'string' }
      - { label: 发布日期, name: date, widget: 'datetime' }
      - { label: 草稿, name: draft, widget: 'boolean', default: true }
      - { label: 作者, name: author, widget: 'string', default: 'Your Name' }
      - { label: 描述, name: description, widget: 'string', required: false }
      - { label: 分类, name: categories, widget: 'list', required: false }
      - { label: 标签, name: tags, widget: 'list', required: false }
      - { label: 正文, name: body, widget: 'markdown' }

  # 英文博客文章
  - name: en-blog
    label: English Blog
    folder: content/en/blog
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    editor:
      preview: false
    fields:
      - { label: Title, name: title, widget: 'string' }
      - { label: Date, name: date, widget: 'datetime' }
      - { label: Draft, name: draft, widget: 'boolean', default: true }
      - { label: Author, name: author, widget: 'string', default: 'Your Name' }
      - { label: Description, name: description, widget: 'string', required: false }
      - { label: Categories, name: categories, widget: 'list', required: false }
      - { label: Tags, name: tags, widget: 'list', required: false }
      - { label: Body, name: body, widget: 'markdown' }

  # 中文文章 (posts)
  - name: zh-posts
    label: 中文文章
    folder: content/zh/posts
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    editor:
      preview: false
    fields:
      - { label: 标题, name: title, widget: 'string' }
      - { label: 发布日期, name: date, widget: 'datetime' }
      - { label: 草稿, name: draft, widget: 'boolean', default: true }
      - { label: 作者, name: author, widget: 'string', default: 'Your Name', required: false }
      - { label: 描述, name: description, widget: 'string', required: false }
      - { label: 分类, name: categories, widget: 'list', required: false }
      - { label: 标签, name: tags, widget: 'list', required: false }
      - { label: 正文, name: body, widget: 'markdown' }

  # 英文文章 (posts)
  - name: en-posts
    label: English Posts
    folder: content/en/posts
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    editor:
      preview: false
    fields:
      - { label: Title, name: title, widget: 'string' }
      - { label: Date, name: date, widget: 'datetime' }
      - { label: Draft, name: draft, widget: 'boolean', default: true }
      - { label: Author, name: author, widget: 'string', default: 'Your Name', required: false }
      - { label: Description, name: description, widget: 'string', required: false }
      - { label: Categories, name: categories, widget: 'list', required: false }
      - { label: Tags, name: tags, widget: 'list', required: false }
      - { label: Body, name: body, widget: 'markdown' }
